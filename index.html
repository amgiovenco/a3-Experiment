<!DOCTYPE html>
<html>
    <head>
        <script src="https://d3js.org/d3.v6.min.js"></script>
        <style>

        </style>
    </head>

    <body>
        <div id="initial">
            <h1>
                Data Visualization (CS4804) Experiment
            </h1>
            <h3>
                Group Members: Ryan Dillon, Alessandra Giovenco, Pegah Emdad
            </h3>
            <p>
                Thank you for participating! <br>
                In this study, you will be shown a series of visualizations. <br>
                In each visualization, two sections of the graph will be marked with a dot. <br>
                In the text box, please enter the percentage that represents the fraction of the smaller marked section to the larger marked section. <br>
                For example, if the smaller section appears to be 50% of the larger section, enter "50" in the text box.
            </p>
            <h5>Ready to start?</h5>
            <button id ="begin" onclick="return showExperiment()">Begin</button>
        </div>

        <div id="experiment" style="display:none">
            <h1>
                Data Visualization (CS4804) Experiment
            </h1>
            <p>
                In the text box, please enter the percentage that represents the fraction of the smaller marked section to the larger marked section. <br>
                For example, if the smaller section appears to be 50% of the larger section, enter "50" in the text box.
            </p>
            <div id="visualization"></div>
            <input type="text" value="0"></input>
            <button id="submit" onclick="return recordResult()">Submit</button>
        </div>

        <script>
            console.log(d3); // test if d3 is loaded
        
            function showExperiment() {
                document.getElementById('initial').style.display='none';
                document.getElementById('experiment').style.display='block';
            }

            function makeDataset() {
                // create and fill an array of 5 data points (values 0-100)
                var data = [];
                for (i=0; i<5; i++) {
                    data.push(Math.floor(Math.random()*101));
                }

                // randomly choose two indices in the data point array to mark
                let markOne = Math.floor(Math.random()*5)
                let markTwo = Math.floor(Math.random()*5);
                
                // if the indices are the same, reassign the second one until they no longer match
                while (markOne == markTwo) {
                    markTwo = Math.floor(Math.random()*5);
                }

                // create the struct to use as the dataset for each graph
                var dataSet = {
                    data : data,
                    markOne: markOne,
                    markTwo: markTwo
                }

                console.log(data)
                console.log(markOne);
                console.log(markTwo);

                return dataSet;
            }

        </script>
    </body>
</html>